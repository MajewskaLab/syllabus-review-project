View(ts)
hist(Prop)
hist(ts$Prop)
ton2 <- ton %>%
mutate(gradingtext = factor(Statement)) %>%
group_by(gradingtext) %>%
count(tone1, tone2)
View(ton2)
syl2 <- syl %>%
mutate(gradingtext = factor(Grading_File)) %>%
select(c("gradingtext","GradeTone1", "GradeTone1scale", "GradeTone2", "GradeTone2scale"))
ton1 <- ton %>%
mutate(gradingtext = factor(Statement)) %>%
group_by(gradingtext) %>%
count(tone1)
ts <- left_join(ton1, syl2, by = c("gradingtext")) %>%
mutate(match = case_match(tone1,GradeTone1 ~ "match"), Prop = n/5) %>%
filter(match == "match")
ton2 <- ton %>%
mutate(gradingtext = factor(Statement)) %>%
group_by(gradingtext) %>%
count(tone2)
ts <- left_join(ton2, syl2, by = c("gradingtext")) %>%
mutate(match = case_match(tone2,GradeTone1 ~ "match"), Prop = n/5) %>%
filter(match == "match")
syl2 <- syl %>%
mutate(gradingtext = factor(Grading_File)) %>%
select(c("gradingtext","GradeTone1", "GradeTone1scale", "GradeTone2", "GradeTone2scale"))
ton1 <- ton %>%
mutate(gradingtext = factor(Statement)) %>%
group_by(gradingtext) %>%
count(tone1)
ts <- left_join(ton1, syl2, by = c("gradingtext")) %>%
mutate(match = case_match(tone1,GradeTone1 ~ "match"), Prop = n/5) %>%
filter(match == "match")
ton2 <- ton %>%
mutate(gradingtext = factor(Statement)) %>%
group_by(gradingtext) %>%
count(tone2)
ts2 <- left_join(ton2, syl2, by = c("gradingtext")) %>%
mutate(match = case_match(tone2,GradeTone1 ~ "match"), Prop = n/5) %>%
filter(match == "match")
ts2 <- left_join(ton2, syl2, by = c("gradingtext")) %>%
mutate(match = case_match(tone2,GradeTone1 ~ "match"), Prop2 = n/5) %>%
filter(match == "match")
hist(ts2$tone2)
hist(ts2$Prop2)
View(syl2)
#import data
syl <- read_csv("data/syllabus-data.csv")
View(syl)
ton <- read_csv("data/ToneVal.csv")
View(ton)
170/5
syl2 <- syl %>%
mutate(gradingtext = factor(Grading_File)) %>%
select(c("gradingtext","GradeTone1", "GradeTone1scale", "GradeTone2", "GradeTone2scale"))
View(syl2)
ton1 <- ton %>%
mutate(gradingtext = factor(Statement)) %>%
group_by(gradingtext) %>%
count(tone1)
ts <- left_join(ton1, syl2, by = c("gradingtext")) %>%
mutate(match = case_match(tone1,GradeTone1 ~ "match"), Prop = n/5) %>%
filter(match == "match")
ton2 <- ton %>%
mutate(gradingtext = factor(Statement)) %>%
group_by(gradingtext) %>%
count(tone2)
ts2 <- left_join(ton2, syl2, by = c("gradingtext")) %>%
mutate(match = case_match(tone2,GradeTone1 ~ "match"), Prop2 = n/5) %>%
filter(match == "match")
hist(ts2$Prop2)
hist(ts$Prop)
hist(ts2$Prop2)
ton1pos <- ton %>%
mutate(gradingtext = factor(Statement)) %>%
group_by(gradingtext) %>%
summarize(posit= mean(`positivity rating`))
View(ton1pos)
ton1pos <- ton %>%
mutate(gradingtext = factor(Statement)) %>%
group_by(gradingtext) %>%
summarize(posit= mean(`positivity rating`), posmedian = median(`positivity rating`))
View(ton1pos)
ts %>%
ggplot(data, aes(x=Prop)) +
geom_histogram()
ts %>%
ggplot(aes(x=Prop)) +
geom_histogram()
ts2 %>%
ggplot(aes(x=Prop2)) +
geom_histogram()
ts %>%
ggplot(aes(x=Prop)) +
geom_histogram(binwidth=3, fill="#69b3a2", color="#e9ecef", alpha=0.9)
ts %>%
ggplot(aes(x=Prop)) +
geom_histogram(binwidth=.1, fill="#69b3a2", color="#e9ecef", alpha=0.9)
ts %>%
ggplot(aes(x=Prop)) +
geom_histogram(binwidth=.1, fill="#69b3a2", color="#e9ecef", alpha=0.9)+
theme_ipsum()
library(hrbrthemes)
install.packages("hrbrthemes")
library(hrbrthemes)
ts %>%
ggplot(aes(x=Prop)) +
geom_histogram(binwidth=.1, fill="#69b3a2", color="#e9ecef", alpha=0.9)+
theme_ipsum()
ts %>%
ggplot(aes(x=Prop)) +
geom_histogram(binwidth=.1, fill="#69b3a2", color="#e9ecef", alpha=0.9)+
theme_classic()
ts %>%
ggplot(aes(x=Prop)) +
geom_histogram(binwidth=.1, fill="#69b3a2", color="#e9ecef", alpha=0.9)+
theme_classic()+
scale_y_continuous(expand = c(0,0))
ts2 %>%
ggplot(aes(x=Prop2)) +
geom_histogram(binwidth=.1, fill="#70b3a2", color="#e9ecef", alpha=0.9)+
theme_classic()+
scale_y_continuous(expand = c(0,0))
ts2 %>%
ggplot(aes(x=Prop2)) +
geom_histogram(binwidth=.1, fill="#71b3a2", color="#e9ecef", alpha=0.9)+
theme_classic()+
scale_y_continuous(expand = c(0,0))
ts2 %>%
ggplot(aes(x=Prop2)) +
geom_histogram(binwidth=.1, fill="orange", color="#e9ecef", alpha=0.9)+
theme_classic()+
scale_y_continuous(expand = c(0,0))
ts2 %>%
ggplot(aes(x=Prop2)) +
geom_histogram(binwidth=.1, fill="orange", color="#e9ecef", alpha=0.9)+
ggtitle("Tone 2") +
theme_classic()+
scale_y_continuous(expand = c(0,0))
ts %>%
ggplot(aes(x=Prop)) +
geom_histogram(binwidth=.1, fill="#69b3a2", color="#e9ecef", alpha=0.9)+
ggtitle("Tone 1") +
theme_classic()+
scale_y_continuous(expand = c(0,0))
ts2 %>%
ggplot(aes(x=Prop2)) +
geom_histogram(binwidth=.1, fill="orange", color="#e9ecef", alpha=0.9)+
ggtitle("Tone 2") +
theme_classic()+
scale_y_continuous(expand = c(0,0))
ts %>%
ggplot(aes(x=Prop)) +
geom_histogram(binwidth=.1, fill="#69b3a2", color="#e9ecef", alpha=0.9)+
ggtitle("Tone 1") +
theme_classic()+
scale_y_continuous(expand = c(0,0))
library(readr)
enrollment <- read_csv("data/enrollment.csv")
View(enrollment)
###clear all work space
rm(list=ls())
graphics.off()
###
require(tidyverse)
syl <- read_csv("data/syllabus-data.csv")
a_SA <- read_csv("data/updated_attendance_SA.csv")
g_SA <- read_csv("data/updated_grading_SA.csv")
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
a_LIWC <- read_csv("data/updated_attend_LIWC.csv")
g_wordcount <- read_csv("data/updated_grading_wordcount.csv")
a_wordcount <- read_csv("data/updated_attendance_wordcount.csv")
rank <- read_csv("data/rank.csv")
enroll <- read_csv("data/enrollment.csv")
View(a_LIWC)
View(syl)
View(syl)
View(a_SA)
syl<-left_join(syl, a_SA, by = c("Attend_File" = "File"))
View(syl)
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity")
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity", "AttendSubjectivity"= "Subjectivity")
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity", "AttendSubjectivity"= "Subjectivity")
g_SA <- read_csv("data/updated_grading_SA.csv") %>%
rename("GradingPolarity" = "Polarity", "GradingSubjectivity" = "Subjectivity")
syl <- read_csv("data/syllabus-data.csv")
syl2<-left_join(syl, a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File"))
View(syl2)
colnames(g_LIWC) <- paste("Attend_")
colnames(g_LIWC)
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
colnames(g_LIWC)
colnames(g_LIWC) <- paste("Attend_", colnames((g_LIWC)))
View(g_LIWC)
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
colnames(g_LIWC) <- paste("Grade_", colnames((g_LIWC)))
a_LIWC <- read_csv("data/updated_attend_LIWC.csv")
colnames(a_LIWC) <- paste("Attend_", colnames((a_LIWC)))
View(g_SA)
View(g_wordcount)
View(g_LIWC)
syl2<-left_join(syl, a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(a_SA, by = c("Attend_File" = "File"))
View(syl2)
colnames(g_LIWC) <- paste("Grade_", colnames(g_LIWC), sep = "")
syl <- read_csv("data/syllabus-data.csv")
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity", "AttendSubjectivity"= "Subjectivity")
g_SA <- read_csv("data/updated_grading_SA.csv") %>%
rename("GradingPolarity" = "Polarity", "GradingSubjectivity" = "Subjectivity")
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
colnames(g_LIWC) <- paste("Grade_", colnames(g_LIWC), sep = "")
a_LIWC <- read_csv("data/updated_attend_LIWC.csv")
colnames(a_LIWC) <- paste("Attend_", colnames((a_LIWC)), sep = "")
View(rank)
View(enroll)
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`))
enroll <- read_csv("data/enrollment.csv")
rank <- read_csv("data/rank.csv") %>%
select(c(Index, Lead_Instructor, Lead_Rank, Other_Rank))
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`))
syl2<-left_join(syl, a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
left_join(rank, by = c("Index")) %>%
left_join(enroll, by = c("Index"))
View(syl2)
###clear all work space
rm(list=ls())
graphics.off()
###
require(tidyverse)
syl <- read_csv("data/syllabus-data.csv")
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity", "AttendSubjectivity"= "Subjectivity")
g_SA <- read_csv("data/updated_grading_SA.csv") %>%
rename("GradingPolarity" = "Polarity", "GradingSubjectivity" = "Subjectivity")
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
colnames(g_LIWC) <- paste("Grade_", colnames(g_LIWC), sep = "")
a_LIWC <- read_csv("data/updated_attend_LIWC.csv")
colnames(a_LIWC) <- paste("Attend_", colnames((a_LIWC)), sep = "")
#g_wordcount <- read_csv("data/updated_grading_wordcount.csv")
#a_wordcount <- read_csv("data/updated_attendance_wordcount.csv")
rank <- read_csv("data/rank.csv") %>%
select(c(Index, Lead_Instructor, Lead_Rank, Other_Rank))
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`))
syl2<-left_join(syl, a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
left_join(rank, by = c("Index")) %>%
left_join(enroll, by = c("Index"))
View(syl2)
syl2<-left_join(syl, a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
left_join(rank, by = c("Index")) %>%
left_join(enroll, by = c("Index"))
View(syl2)
syl2 <- left_join(syl, rank, by = c("Index") %>%
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename"))
View(syl2)
View(syl2)
###clear all work space
rm(list=ls())
graphics.off()
###
require(tidyverse)
syl <- read_csv("data/syllabus-data.csv")
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity", "AttendSubjectivity"= "Subjectivity")
g_SA <- read_csv("data/updated_grading_SA.csv") %>%
rename("GradingPolarity" = "Polarity", "GradingSubjectivity" = "Subjectivity")
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
colnames(g_LIWC) <- paste("Grade_", colnames(g_LIWC), sep = "")
a_LIWC <- read_csv("data/updated_attend_LIWC.csv")
colnames(a_LIWC) <- paste("Attend_", colnames((a_LIWC)), sep = "")
#g_wordcount <- read_csv("data/updated_grading_wordcount.csv")
#a_wordcount <- read_csv("data/updated_attendance_wordcount.csv")
rank <- read_csv("data/rank.csv") %>%
select(c(Index, Lead_Instructor, Lead_Rank, Other_Rank))
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`))
########## merges #
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename"))
View(syl2)
write.csv(syl2, "data/masterDF.csv")
###clear all work space
rm(list=ls())
graphics.off()
###
require(tidyverse)
syl <- read_csv("data/syllabus-data.csv")
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity", "AttendSubjectivity"= "Subjectivity")
g_SA <- read_csv("data/updated_grading_SA.csv") %>%
rename("GradingPolarity" = "Polarity", "GradingSubjectivity" = "Subjectivity")
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
colnames(g_LIWC) <- paste("Grade_", colnames(g_LIWC), sep = "")
a_LIWC <- read_csv("data/updated_attend_LIWC.csv")
colnames(a_LIWC) <- paste("Attend_", colnames((a_LIWC)), sep = "")
#g_wordcount <- read_csv("data/updated_grading_wordcount.csv")
#a_wordcount <- read_csv("data/updated_attendance_wordcount.csv")
rank <- read_csv("data/rank.csv") %>%
select(c(Index, Lead_Instructor, Lead_Rank, Other_Rank))
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`))
########## merges #
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename"))
###clear all work space
rm(list=ls())
graphics.off()
###
require(tidyverse)
syl <- read_csv("data/syllabus-data.csv")
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity", "AttendSubjectivity"= "Subjectivity")
g_SA <- read_csv("data/updated_grading_SA.csv") %>%
rename("GradingPolarity" = "Polarity", "GradingSubjectivity" = "Subjectivity")
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
colnames(g_LIWC) <- paste("Grade_", colnames(g_LIWC), sep = "")
a_LIWC <- read_csv("data/updated_attend_LIWC.csv")
colnames(a_LIWC) <- paste("Attend_", colnames((a_LIWC)), sep = "")
#g_wordcount <- read_csv("data/updated_grading_wordcount.csv")
#a_wordcount <- read_csv("data/updated_attendance_wordcount.csv")
rank <- read_csv("data/rank.csv") %>%
select(c(Index, Lead_Instructor, Lead_Rank, Other_Rank))
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`))
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename"))
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
mutate(Class_Size_Cat = case_when(`Class Size` > 100, TRUE ~ "large"))
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
mutate(Class_Size_Cat = case_when(`Class Size` > 100 ~ "large",
`Class Size` < 100  ~ "medium",
TRUE ~ ""))
View(syl2)
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
mutate(Class_Size_Cat = case_when(`Class Size` > 100 ~ "large",
between(`Class Size`, 31, 99)  ~ "medium",
between(`Class Size`, 1, 30)  ~ "small",
TRUE ~ ""))
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
mutate(Class_Size_Cat = case_when(`Class Size` > 100 ~ "large",
between(`Class Size`, 31, 99)  ~ "medium",
between(`Class Size`, 1, 30)  ~ "small",
TRUE ~ "NA"))
View(syl2)
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
mutate(Class_Size_Cat = case_when(`Class Size` > 100 ~ "large",
between(`Class Size`, 31, 99)  ~ "medium",
between(`Class Size`, 1, 30)  ~ "small",
TRUE ~ "NA"))
write.csv(syl2, "data/masterDF.csv")
View(rank)
###clear all work space
rm(list=ls())
graphics.off()
###
require(tidyverse)
syl <- read_csv("data/syllabus-data.csv")
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity", "AttendSubjectivity"= "Subjectivity")
g_SA <- read_csv("data/updated_grading_SA.csv") %>%
rename("GradingPolarity" = "Polarity", "GradingSubjectivity" = "Subjectivity")
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
colnames(g_LIWC) <- paste("Grade_", colnames(g_LIWC), sep = "")
a_LIWC <- read_csv("data/updated_attend_LIWC.csv")
colnames(a_LIWC) <- paste("Attend_", colnames((a_LIWC)), sep = "")
#g_wordcount <- read_csv("data/updated_grading_wordcount.csv")
#a_wordcount <- read_csv("data/updated_attendance_wordcount.csv")
rank <- read_csv("data/rank.csv") %>%
select(c(Index, Lead_Instructor, Lead_Rank, Other_Rank))
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`))
View(rank)
source("~/GitHub/syllabus-review-project/R coding/06_mergeAll.R", echo=TRUE)
View(rank)
###clear all work space
rm(list=ls())
graphics.off()
###
require(tidyverse)
syl <- read_csv("data/syllabus-data.csv")
a_SA <- read_csv("data/updated_attendance_SA.csv") %>%
rename("AttendPolarity" = "Polarity", "AttendSubjectivity"= "Subjectivity")
g_SA <- read_csv("data/updated_grading_SA.csv") %>%
rename("GradingPolarity" = "Polarity", "GradingSubjectivity" = "Subjectivity")
g_LIWC <- read_csv("data/updated_grading_LIWC.csv")
colnames(g_LIWC) <- paste("Grade_", colnames(g_LIWC), sep = "")
a_LIWC <- read_csv("data/updated_attend_LIWC.csv")
colnames(a_LIWC) <- paste("Attend_", colnames((a_LIWC)), sep = "")
#g_wordcount <- read_csv("data/updated_grading_wordcount.csv")
#a_wordcount <- read_csv("data/updated_attendance_wordcount.csv")
rank <- read_csv("data/rank.csv") %>%
select(c(Index, Lead_Instructor, Lead_Rank, Other_Rank))
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`))
########## merges #
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
mutate(Class_Size_Cat = case_when(`Class Size` > 100 ~ "large",
between(`Class Size`, 31, 99)  ~ "medium",
between(`Class Size`, 1, 30)  ~ "small",
TRUE ~ "NA"))
write.csv(syl2, "data/masterDF.csv")
rank <- read_csv("data/rank.csv")
#a_wordcount <- read_csv("data/updated_attendance_wordcount.csv")
rank <- read_csv("data/rank.csv") %>%
select(c(Index, Lead_Instructor, Lead_Rank,Lead_Track, Other_Rank, Other_Track))
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`))
########## merges #
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
mutate(Class_Size_Cat = case_when(`Class Size` > 100 ~ "large",
between(`Class Size`, 31, 99)  ~ "medium",
between(`Class Size`, 1, 30)  ~ "small",
TRUE ~ "NA"))
write.csv(syl2, "data/masterDF.csv")
enroll <- read_csv("data/enrollment.csv") %>%
select(c(Index, `Class Size`)) %>%
rename("Class_Size" = `Class Size`)
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
mutate(Class_Size_Cat = case_when(Class_Size > 100 ~ "large",
between(Class_Size, 31, 99)  ~ "medium",
between(Class_Size, 1, 30)  ~ "small",
TRUE ~ "NA"))
syl2 <- left_join(syl, rank, by = c("Index")) %>%
left_join(enroll, by = c("Index")) %>%
left_join(a_SA, by = c("Attend_File" = "File")) %>%
left_join(g_SA, by = c("Grading_File" = "File")) %>%
left_join(g_LIWC, by = c("Grading_File" = "Grade_Filename")) %>%
left_join(a_LIWC, by = c("Attend_File" = "Attend_Filename")) %>%
mutate(Class_Size_Cat = case_when(Class_Size > 100 ~ "large",
between(Class_Size, 31, 99)  ~ "medium",
between(Class_Size, 1, 30)  ~ "small",
TRUE ~ "NA")) %>%
rename("Last_Name" = `Last Name`)
write.csv(syl2, "data/masterDF.csv")
